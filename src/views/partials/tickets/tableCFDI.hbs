<label class="mb-3">ðŸ§¾ Productos a facturar</label>
<div class="table-responsive">
    <table id="tabla-productos" class="tabla-productos-sales  table table-hover">
        <thead>
            <tr>
                <th>Calve SAT</th>
                <th>Nombre</th>
                <th>CÃ³digo</th>
                <th>Cantidad</th>
                <th>Precio Unitario</th>
                <th>Precio con Impuestos</th>
                <th>Total</th>
            </tr>
        </thead>
        <tbody id="container-product-ticket"></tbody>
        <tfoot>
            <tr style="background: #e9e9e9;">
                <td colspan="6" style="text-align: right;"><strong>Total General:</strong></td>
                <td id="total-general"><strong>$</strong></td>
            </tr>
        </tfoot>
    </table>
</div>


<script>
document.addEventListener('DOMContentLoaded', () => {
function calcularTotalGeneral() {
  let total = 0;

  // Selecciona todas las celdas con clase 'total' dentro del tbody
  const filas = document.querySelectorAll('#tabla-productos tbody tr');

  filas.forEach((fila) => {
    const celdaTotal = fila.querySelector('.total');
    if (celdaTotal) {
      // Limpia el sÃ­mbolo de pesos y comas si existen
      const valor = parseFloat(celdaTotal.textContent.replace(/[^\d.-]/g, ''));
      if (!isNaN(valor)) {
        total += valor;
      }
    }
  });

  // Redondea a 2 decimales
  total = Math.round(total * 100) / 100;

  // Actualiza el contenido del total general
  const totalGeneral = document.getElementById('total-general');
  if (totalGeneral) {
    totalGeneral.innerHTML = `<strong>$ ${total.toFixed(2)}</strong>`;
  }
}
calcularTotalGeneral()
});
</script>