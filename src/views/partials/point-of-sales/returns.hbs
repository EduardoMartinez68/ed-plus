{{>returns/formReturn}}




<script>
    document.addEventListener('DOMContentLoaded', () => {
    // AquÃ­ defines o asignas la funciÃ³n para que estÃ© lista despuÃ©s del DOM
    async function open_pop_returns(id) {
        const return_ticket = document.getElementById('return_ticket');
        if (return_ticket == null) {
        // primero verificamos si el usuario tiene permisos
        if (!await this_user_is_admin('Devolver ticket ğŸ“„', 'return_ticket')) {
            warningMessage('ğŸ•µï¸â€â™‚ï¸ Â¡Acceso denegado!', 'No tienes permiso para hacer devoluciones de tickets.');
            return;
        }
        }

        show_message_pop(id);
        document.getElementById('search-ticket').focus();
    }

    // Opcional: asignar a window si quieres que sea global
    window.open_pop_returns = open_pop_returns;
    });
</script>